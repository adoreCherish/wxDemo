<view class="main" style='background-color:{{hasProject ? "#f1f2f6" : "white"}}'>
  <!-- <view class="userinfo">
    <button open-type="getUserInfo" bindgetuserinfo="getUserInfo"> 获取头像昵称 </button>
    <block wx:else>
      <image bindtap="bindViewTap" class="userinfo-avatar" src="{{userInfo.avatarUrl}}" background-size="cover"></image>
      <text class="userinfo-nickname">{{userInfo.nickName}}</text>
    </block>
  </view> -->
  <!-- 头部 start -->
  <view wx:if="{{hasUserInfo}}" class="userInfo">
    <image class="userinfo-avatar" src="{{userInfo.avatarUrl}}" background-size="cover"/>
    <view>
      <text class="userInfoNickName">{{userInfo.nickName}}管理员,你好</text>
      <text wx:if="{{hasProject}}" class="userDescription">欢迎来到<text style="color: #008bd6">员工领导力培训</text></text>
      <text wx:else class="userDescription">欢迎来到本项目的学习地图</text>
    </view>
    <view class="progress" wx:if="{{hasProject}}">
      <text class="content">1/12</text>
      <text class="static">进度</text>
    </view>
  </view>
  <!-- 头部 end -->
  
  <!-- 内容 start -->
  <view>
    <view wx:if="{{hasProject}}">
      <view class="hasProject">
        <view class="projectStatus">
          <view class="header">
            <text class="left">阶段一</text>
            <text class="date">(21天)</text>
            <button class="right">编辑项目</button>
          </view>
          <view>
            <view class='swiper-container'>
              
              <view animation= "{{ swiperAnimationData }}" 
              style='width:{{ swiperContainWidth + "rpx" }}' 
              bindtouchstart='swiperTouchStart' 
              bindtouchmove='swiperTouchMove' 
              bindtouchend='swiperTouchEnd' 
              class='card-swiper-box' 
              >


              <block wx:for='{{swiperImgUrls}}' wx:key="{{index}}">
                  <!-- <image src='{{item}}' class='card-item' ></image>  -->
                  <view class="card-item {{swiperImgUrls[index].status == 0 ? 'card-item0' : 'card-item1'}}">
                    <image class="timePic" src="../../images/time.png" />
                    <view class="issue">
                      <text>{{swiperImgUrls[index].text}}</text>
                      <image class="location" src="../../images/location.png" />
                    </view>
                    <text class="time">{{swiperImgUrls[index].time}}</text>
                    <button class="status">课时</button>
                  </view>
              </block>
              </view>
            </view>
          </view>
          <!-- 时间轴 -->
          <view>
            <view class='order_process'>
              <view class='process_wrap' wx:for="{{processData}}" wx:key="{{index}}">
                <view class='process'>
                  <block wx:for="{{fixation}}" wx:key="{{index}}">
                    <view class='process_line' style="background:{{item.start}}"></view>
                    <image bindtap="bindPunchCard" class='process_icon' src="../../images/timerShaft.png"></image>
                    <image wx:if="{{bindPunchCard}}" class="location" src="../../images/location.png" />
                    <view class='process_line' style="background:{{item.end}}">
                      <view wx:if="{{fixation[index] == '2'}}" class="transform">-----</view>
                    </view>
                  </block>
                </view>
                <text class='process_name'>{{item.name}}</text>
              </view>
            </view>
          </view>
        </view>
        <view class="punchCard" wx:if="{{bindPunchCard || bindPunchCardList.length > 0}}">
          <view class="header">
            <text class="left">我管理的打卡</text>
            <view class="left subTitle">
              <text>学生需加入<text class="number">1</text>个,已加入</text><text class="number">1</text>个
            </view>
            <view class="right">
              <button>编辑</button>
            </view>
          </view>
          <view class="stage">
            <view class="stageHead">
              <text>阶段一</text>
            </view>
            <view style="overflow: hidden;margin-top: 30rpx;display: flex;align-items: center;padding-bottom: 30rpx;border-bottom: 1rpx solid #f1f2f6">
              <image class="stageImg" src=""/>
              <view class="stageContent">
                <view class="stageContent-name">
                  <text>我是活动打卡名</text>
                </view>
                <view class="stageContent-content">
                  <text>我是介绍</text>
                </view>
                <view>
                  <button style="border:1rpx solid {{mustChoise ? '#4286f5;' : '#3eb85f;'}} color:{{mustChoise ? '#4286f5;' : '#3eb85f;'}}" class="choise">必选</button>
                </view>
              </view>
              <view class="operation">
                <image src="../../images/delete.png"/>
              </view>
            </view>
            <view style="overflow: hidden;margin-top: 30rpx;display: flex;align-items: center;padding-bottom: 30rpx;border-bottom: 1rpx solid #f1f2f6">
              <image class="stageImg" src=""/>
              <view class="stageContent">
                <view class="stageContent-name">
                  <text>我是活动打卡名</text>
                </view>
                <view class="stageContent-content">
                  <text>我是介绍</text>
                </view>
                <view>
                  <button style="border:1rpx solid {{mustChoise ? '#4286f5;' : '#3eb85f;'}} color:{{mustChoise ? '#4286f5;' : '#3eb85f;'}}" class="choise">必选</button>
                </view>
              </view>
              <view class="operation">
                <image src="../../images/delete.png"/>
              </view>
            </view>
          </view>
          <view class="stage">
            <view class="stageHead">
              <text>阶段二</text>
            </view>
            <view style="overflow: hidden;margin-top: 30rpx;display: flex;align-items: center;padding-bottom: 30rpx;border-bottom: 1rpx solid #f1f2f6">
              <image class="stageImg" src=""/>
              <view class="stageContent">
                <view class="stageContent-name">
                  <text>我是活动打卡名</text>
                </view>
                <view class="stageContent-content">
                  <text>我是介绍</text>
                </view>
                <view>
                  <button class="choise">必选</button>
                </view>
              </view>
              <view class="operation">
                <image src="../../images/delete.png"/>
              </view>
            </view>
            <view style="overflow: hidden;margin-top: 30rpx;display: flex;align-items: center;padding-bottom: 30rpx;border-bottom: 1rpx solid #f1f2f6">
              <image class="stageImg" src=""/>
              <view class="stageContent">
                <view class="stageContent-name">
                  <text>我是活动打卡名</text>
                </view>
                <view class="stageContent-content">
                  <text>我是介绍</text>
                </view>
                <view>
                  <button class="choise">必选</button>
                </view>
              </view>
              <view class="operation">
                <image src="../../images/delete.png"/>
              </view>
            </view>
          </view>
          <view class="content">
            <view class="child">
              <button class="addNew" bindtap="addNew">创建新的打卡项目</button>
              <button bindtap="historyPunchCardFunc" class="choseFromHistory">
                <text class="addIcon">+</text>
                <text>从打卡历史中选择</text>
            </button>
            </view>
          </view>
        </view>
        <!-- <view wx:else style="height: 378rpx;background-color: #f1f2f6">
          
        </view> -->
      </view>
    </view>
    <view wx:else class="indexMain">
      <view>
        <image src="../../images/noProject.png" class="noProjectPic"/>
        <text class="noProjectText">您还没有任何项目</text>
      </view>
    </view>
  </view>
  
  <!-- 内容 end -->
  
  <!-- 底部 start -->
  <view class="footer" wx:if="{{!bindPunchCard}}">
    <view class="icon-add" bindtap="addProjectFunc">
    </view>
  </view>
  <!-- <button bindtap="linkTo">linkTo</button> -->
  <!-- 底部 end -->
</view>
